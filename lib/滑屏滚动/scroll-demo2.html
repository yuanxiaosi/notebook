<html>
<head>
  <meta charset='UTF-8'>
  <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
	<meta name="format-detection" content="telephone=no"/>
  <title>index</title>

  <style>
    *{padding: 0px;margin: 0px;}
  	.body { width: 100%; height: 100%;  overflow: hidden;}
    .scroll{overflow: hidden;}
    .scroll ul{display: inline-block; width: 100%; height: 100%; white-space: nowrap; font-size:0}
    .scroll ul li{display: inline-block; width: 100%; height: 100%; padding: 0;margin: 0;list-style: none; color: #fff; font-size: 400px; text-align: center; line-height: 300px;} 
    .scroll ul li:nth-child(2n+1){ background: #000;}
    .scroll ul li:nth-child(2n){ background: #ff0000;}
  </style>
</head>

<body>
  <div class="scroll">
    <ul style="-webkit-transform: translateX(0px);transition: all 0.2s cubic-bezier(1,1,.01,0);">
      <li>1</li>
      <li>2</li>
      <li>3</li>
      <li>4</li>
      <li>5</li>
      <li>6</li>
      <li>7</li>
      <li>8</li>
    </ul>
  </div>

<div id="footer"></div>


<script>
  var div = document.querySelectorAll(".scroll")[0];
  var ul = div.querySelectorAll("ul")[0];
  var li = ul.querySelectorAll("li");

  var site = 0;
  var startX = 0;
  var moveX = 0;
  var index = 0;

  var reg = /\-?[0-9]+/g;
  var docWidth = document.body.clientWidth;

  /*var rAF = window.requestAnimationFrame  ||
            window.webkitRequestAnimationFrame  ||
            window.mozRequestAnimationFrame   ||
            window.oRequestAnimationFrame   ||
            window.msRequestAnimationFrame    ||
            function (callback) { window.setTimeout(callback, 1000 / 60); };*/


  div.addEventListener('touchstart', touchStart);  
  div.addEventListener('touchmove', touchMove);  
  div.addEventListener('touchend', touchend); 

  function touchStart(e){
    moveX = 0;
    startX = e.touches[0].pageX;  
  }

  function touchMove(e){
    moveX = e.touches[0].pageX - startX;
  }

  function touchend(e){

    b = parseInt(ul.style.webkitTransform.match(reg)[0]);
    if(moveX > 30 && site < 0){
      site += 1; 
      c = site*docWidth;
    }

    if(moveX < -30 && site > -(li.length-1) ){
      site -= 1;
      c = site*docWidth;
    }
    console.log(site)
    
    ul.style.webkitTransform = "translateX("+c+"px)";

  }

</script>
</body>
</html>
